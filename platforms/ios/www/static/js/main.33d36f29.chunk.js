(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(e,t,n){e.exports=n(46)},26:function(e,t,n){},27:function(e,t,n){},46:function(e,t,n){"use strict";n.r(t);var o=n(1),a=n.n(o),i=n(15),r=n.n(i),c=(n(26),n(2)),s=n(4),u=n(18),h=n(16),d=n(19),l=(n(27),{googleTTSApi:{key:"AIzaSyBOP1OTzshLV8LX0mzyAv1y2ZOAT0K-wK4"},speechSynthesis:{"vi-VN":{api:"GOOGLE_TTS",character:{male:{voice:"Google US English",speed:1.6,pitch:1},female:{voice:"Google US English",speed:1,pitch:.9}}}}}),p=n(3),f=n.n(p),v=n(5),m=n(17),w=n.n(m),g=function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;Object(c.a)(this,e),this.volume=t,this.loop=n,this.playbackRate=o},y=function(){function e(t,n,o,a,i){Object(c.a)(this,e),this.lang=t,this.voice=n,this.speed=o,this.pitch=a,this.range=i,window.AudioContext=window.AudioContext||window.webkitAudioContext,this.audioContext=null,this.createOrResumeAudioContext()}return Object(s.a)(e,[{key:"start",value:function(){var e=Object(v.a)(f.a.mark(function e(t,n){var o,a,i=this,r=arguments;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.length>2&&void 0!==r[2]?r[2]:1,a=r.length>3&&void 0!==r[3]?r[3]:{},e.abrupt("return",new Promise(function(e,r){a.joy,a.anger,a.sadness;var c=a.name;a.speed,a.pitch,a.range;i.createOrResumeAudioContext();var s={audioConfig:{audioEncoding:"MP3",speakingRate:i.speed,pitch:i.pitch},input:{text:t},voice:{languageCode:"pt-BR"===i.lang?"pt-PT":i.lang,ssmlGender:k(c||i.voice)}};w.a.create({baseURL:"https://texttospeech.googleapis.com/v1",method:"post",params:{key:l.googleTTSApi.key}}).post("/text:synthesize",s).then(function(e){var t=new g(o);u(e.data.audioContent,n,t)}).catch(function(e){console.error(e),r(e)});var u=function(t,n,o){i.createOrResumeAudioContext();var a=i.base64ToArrayBuffer(t);i.audioContext.decodeAudioData(a,function(t){var a=i.audioContext.createBufferSource();a.buffer=t,a.loop=o.loop,a.loopStart=0,a.playbackRate.value=o.playbackRate,a.loopEnd=t.duration,a.connect(i.audioContext.destination),a.start=a.start||a.noteOn,a.stop=a.stop||a.noteOff,a.onended=function(t){a.onended=null,a.stop(0),setTimeout(function(){e()},n)},a.start(0),setTimeout(function(){a.stop(0),e()},1e4)},function(e){console.error(e),r(e)})}}));case 3:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"base64ToArrayBuffer",value:function(e){for(var t=window.atob(e),n=t.length,o=new Uint8Array(n),a=0;a<n;a++)o[a]=t.charCodeAt(a);return o.buffer}},{key:"createOrResumeAudioContext",value:function(){this.audioContext&&"close"!==this.audioContext.status?"suspended"===this.audioContext.state&&this.audioContext.resume().then():this.audioContext=new AudioContext}},{key:"stop",value:function(){var e=Object(v.a)(f.a.mark(function e(){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.audioContext){e.next=3;break}return e.next=3,this.audioContext.suspend();case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),e}(),k=function(e){var t="MALE",n="FEMALE";return{nozomi:n,sumire:n,maki:n,kaho:n,akari:n,nanako:n,reina:n,seiji:t,hiroshi:t,osamu:t,taichi:t,koutarou:t,anzu:t,yuuto:n,chihiro:n,nozomi_emo:n,maki_emo:n,reina_emo:n,taichi_emo:t}[e]||"MALE"},x=function(e){function t(){var e,n;Object(c.a)(this,t);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return(n=Object(u.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(a)))).handleClick=function(){var e=l.speechSynthesis["vi-VN"].character.male,t=e.voice,n=e.speed,o=e.pitch,a=e.range;new y("vi-VN",t,n,o,a).start("con ch\xf3 con con ch\xf3 m\u1eb9",100)},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"App"},a.a.createElement("header",{className:"App-header"},a.a.createElement("h1",{className:"App-title"},"Ma S\xf3i One Night"),a.a.createElement("a",{className:"App-Play",href:"#",onClick:this.handleClick},"Play")))}}]),t}(a.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var C=function(){r.a.render(a.a.createElement(x,null),document.getElementById("root"))};window.cordova?document.addEventListener("deviceready",function(){C()},!1):C(),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[20,1,2]]]);
//# sourceMappingURL=main.33d36f29.chunk.js.map